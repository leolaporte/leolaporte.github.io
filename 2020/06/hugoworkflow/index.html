<!doctype html><html lang=en><head><meta charset=utf-8><meta name=viewport content="width=device-width,initial-scale=1"><meta name=robots content="noodp"><meta http-equiv=x-ua-compatible content="IE=edge, chrome=1"><title>My New Hugo Workflow - leo.fm</title><meta name=Description content="Leo Laporte's Secret Blog"><meta property="og:title" content="My New Hugo Workflow"><meta property="og:description" content="This site is a laboratory. In particular, I&rsquo;ve been seeking a friction-free way to write. I think I&rsquo;ve found it."><meta property="og:type" content="article"><meta property="og:url" content="https://leo.fm/2020/06/hugoworkflow/"><meta property="og:image" content="https://leo.fm/images/profile.png"><meta property="article:published_time" content="2020-06-25T00:00:00+00:00"><meta property="article:modified_time" content="2020-06-25T00:00:00+00:00"><meta name=twitter:card content="summary_large_image"><meta name=twitter:image content="https://leo.fm/images/profile.png"><meta name=twitter:title content="My New Hugo Workflow"><meta name=twitter:description content="This site is a laboratory. In particular, I&rsquo;ve been seeking a friction-free way to write. I think I&rsquo;ve found it."><meta name=application-name content="leo.fm"><meta name=apple-mobile-web-app-title content="leo.fm"><meta name=theme-color content="#ffffff"><meta name=msapplication-TileColor content="#da532c"><link rel="shortcut icon" type=image/x-icon href=/favicon.ico><link rel=icon type=image/png sizes=32x32 href=/favicon-32x32.png><link rel=icon type=image/png sizes=16x16 href=/favicon-16x16.png><link rel=apple-touch-icon sizes=180x180 href=/apple-touch-icon.png><link rel=mask-icon href=/safari-pinned-tab.svg color=#5bbad5><link rel=manifest href=/site.webmanifest><link rel=canonical href=https://leo.fm/2020/06/hugoworkflow/><link rel=prev href=https://leo.fm/2020/06/sunset/><link rel=next href=https://leo.fm/2020/06/reparations/><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/normalize.css@8.0.1/normalize.min.css><link rel=stylesheet href=/css/style.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free@5.13.0/css/all.min.css><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/animate.css@3.7.2/animate.min.css><script type=application/ld+json>{"@context":"http://schema.org","@type":"BlogPosting","headline":"My New Hugo Workflow","inLanguage":"en","mainEntityOfPage":{"@type":"WebPage","@id":"https:\/\/leo.fm\/2020\/06\/hugoworkflow\/"},"image":["https:\/\/leo.fm\/images\/Apple-Devices-Preview.png"],"genre":"posts","keywords":"hugo, ssh, typora","wordcount":981,"url":"https:\/\/leo.fm\/2020\/06\/hugoworkflow\/","datePublished":"2020-06-25T00:00:00+00:00","dateModified":"2020-06-25T00:00:00+00:00","license":"Copyright 2022 Leo Laporte, all rights reserved","publisher":{"@type":"Organization","name":"Leo Laporte","logo":"https:\/\/leo.fm\/images\/profile.png"},"author":{"@type":"Person","name":"Leo Laporte"},"description":""}</script></head><body header-desktop=fixed header-mobile=auto><script type=text/javascript>(window.localStorage&&localStorage.getItem('theme')?localStorage.getItem('theme')==='dark':('light'==='auto'?window.matchMedia('(prefers-color-scheme: dark)').matches:'light'==='dark'))&&document.body.setAttribute('theme','dark');</script><div id=mask></div><div class=wrapper><header class=desktop id=header-desktop><div class=header-wrapper><div class=header-title><a href=/ title=leo.fm><span class=header-title-pre><i class="fas fa-microphone-alt"></i></span>leo.fm</a></div><div class=menu><div class=menu-inner><a class=menu-item href=/posts/>Posts </a><a class=menu-item href=/tags/>Tags </a><a class=menu-item href=/categories/>Categories </a><a class=menu-item href=/2020/05/iusethis/ title="Stuff Leo uses">I Use This </a><a class=menu-item href=/about/ title="Who is Leo?">About </a><span class="menu-item delimiter"></span><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme"><i class="fas fa-adjust fa-fw"></i></a></div></div></div></header><header class=mobile id=header-mobile><div class=header-container><div class=header-wrapper><div class=header-title><a href=/ title=leo.fm><span class=header-title-pre><i class="fas fa-microphone-alt"></i></span>leo.fm</a></div><div class=menu-toggle id=menu-toggle-mobile><span></span><span></span><span></span></div></div><div class=menu id=menu-mobile><a class=menu-item href=/posts/>Posts</a><a class=menu-item href=/tags/>Tags</a><a class=menu-item href=/categories/>Categories</a><a class=menu-item href=/2020/05/iusethis/ title="Stuff Leo uses">I Use This</a><a class=menu-item href=/about/ title="Who is Leo?">About</a><a href=javascript:void(0); class="menu-item theme-switch" title="Switch Theme">
<i class="fas fa-adjust fa-fw"></i></a></div></div></header><div class="search-dropdown desktop"><div id=search-dropdown-desktop></div></div><div class="search-dropdown mobile"><div id=search-dropdown-mobile></div></div><main class=main><div class=container><article class="page single"><h1 class="single-title animated flipInX">My New Hugo Workflow</h1><h2 class=single-subtitle>Toward friction-free blogging</h2><div class=post-meta><div class=post-meta-line><span class=post-author><a href=https://leo.fm/about/ title=Author target=_blank rel="noopener noreffer author" class=author><i class="fas fa-user-circle fa-fw"></i>Leo Laporte</a></span>&nbsp;<span class=post-category>included in <a href=/categories/blog/><i class="far fa-folder fa-fw"></i>blog</a></span></div><div class=post-meta-line><i class="far fa-calendar-alt fa-fw"></i>&nbsp;<time datetime=2020-06-25>2020-06-25</time>&nbsp;<i class="fas fa-pencil-alt fa-fw"></i>&nbsp;981 words&nbsp;
<i class="far fa-clock fa-fw"></i>&nbsp;5 minutes&nbsp;</div></div><div class=content id=content><p>This site is a laboratory. In particular, I&rsquo;ve been seeking a friction-free way to write. I think I&rsquo;ve found it.</p><p><img src=/images/lab.jpg align=right alt="Leo in his lab (from the cover of Leo Laporte's 2003 Technology Almanac)" padding=20px> I&rsquo;ve long wanted to be able to blog as easily as one would tweet. Most content management systems put up a number of roadblocks. If it&rsquo;s a struggle to post, however little, I&rsquo;m less likely to do it.</p><p>I know I&rsquo;m an edge case here. As a broadcaster there&rsquo;s zero friction to speaking my mind. I sit in front of a mic, form a thought, make some mouth noises, done.</p><p><i class="fas fa-brain"></i><i class="fas fa-long-arrow-alt-right"></i><i class="fas fa-head-side-cough"></i><i class="fas fa-long-arrow-alt-right"></i><i class="fas fa-microphone"></i><i class="fas fa-long-arrow-alt-right"></i><i class="fas fa-users"></i></p><p>Writing is a much more painstaking process, and even though I&rsquo;ve done a lot of it, it&rsquo;s always felt like labor. I listen to writers do podcasts (I&rsquo;m listening to <a href=https://daringfireball.net/thetalkshow/2020/06/24/ep-286 target=_blank rel="noopener noreffer">Jon Gruber&rsquo;s Talk Show from WWDC</a> right now, for example) and I can feel how much harder it is for them to talk than write. Sometimes I can even hear them re-writing their words before they speak. I probably should do that more often, but I generally speak quickly and with little to no editing. To each his own but that’s my preferred way to create content. And how I’ve made my living for more than 40 years.</p><p>But I do want to write. There are lots of reasons to put pen to paper. Writing forces a more thoughtful pace, requires more rigorous reasoning, and is the best way to develop complex ideas. It&rsquo;s also more permanent, and, potentially, begs a more thoughtful response from readers. And, once I&rsquo;m done, writing is more deeply satisfying. That makes sense. The more effort one puts into doing something, the more satisfying the sense of accomplishment will be when done.</p><blockquote><p>&ldquo;I don’t like to write, but like having written.&rdquo;
&ndash; Frank Norris</p></blockquote><p>Writing is so much work for me that I don&rsquo;t want to add any friction via the mechanics of posting what I&rsquo;ve written. Ideally I&rsquo;d fire up an editor, write something, save it, and it would magically appear as a post. I think that&rsquo;s one reason Twitter is so successful. But&mldr; it&rsquo;s also why Twitter is so full of ephemeral crap &ndash; it&rsquo;s <em>too</em> easy. Twitter combines the worst of both worlds: thoughtless posting with a permanent record. That combo has bitten most of us over time. So I guess I don&rsquo;t want to make it <em>that</em> easy. There should be enough friction to encourage thoughtful writing. That&rsquo;s where the text editor comes in. Once I&rsquo;m looking at all that blank real-estate on my screen I feel the need to fill it. There&rsquo;s no jotting and posting here. I&rsquo;m in writing mode.</p><p>For a while I used Manton Reece&rsquo;s <a href=https://micro.blog/ target=_blank rel="noopener noreffer">micro.blog</a>, <em>“the fastest way to blog”</em>. But it’s too fast. Like Twitter it encourages short off-the-cuff posts - and I wanted to encourage my monkey mind to work on longer pieces (like this). Also, after long experience, I&rsquo;ve learned it&rsquo;s best to host my own content. I want my stuff to live on <em>my</em> server, and to live in a form that&rsquo;s easy to backup and move around (like, say, plaintext + markdown).</p><p>So, my shopping list for a blog includes:</p><ol><li>Mostly friction-less posting</li><li>Write anywhere: iPad, Mac, Linux</li><li>Pick up writing anywhere else</li><li>Self-hosted</li><li>Clean, portable content</li><li>Clean, attractive presentation</li></ol><p>I believe I’ve found all of the above here. My workflow at leo.fm varies, but over time it has evolved to the following.</p><p>Hugo is running on my server with -w to watch for changes in the content folder<sup id=fnref:1><a href=#fn:1 class=footnote-ref role=doc-noteref>1</a></sup></p><p>I mount my web site locally using <a href=https://github.com/libfuse/sshfs target=_blank rel="noopener noreffer">sshfs</a> on all my machines, so I can create and edit posts on my local machines. When that file is saved or updated, hugo rebuilds the site instantly, and the post is up. You can’t get simpler than Ctrl-S to post.<sup id=fnref:2><a href=#fn:2 class=footnote-ref role=doc-noteref>2</a></sup></p><p>This is an wonderfully flexible workflow. That’s another requirement of friction-free posting, it has to work wherever I am.</p><p>There are a number of ways I can create and edit posts. I’ve used emacs on the server for many posts. I like <a href=https://panic.com/code-editor/ target=_blank rel="noopener noreffer">Panic’s Code Editor</a> for the iPad, too. Its support for ssh, sftp, and editing makes the iPad a perfect way to work on the site. I actually started this post on my iPad using Code Editor<sup id=fnref:3><a href=#fn:3 class=footnote-ref role=doc-noteref>3</a></sup> but I’m finishing it on my Mac using the absolutely wonderful <a href=https://typora.io/ target=_blank rel="noopener noreffer">Typora</a> (Mac/Windows/Linux). This really is the perfect writing tool for any purpose, but for blogging it’s the best markdown editor I’ve ever used, it even supports the automatic upload of image files. And it’s clean and beautiful - the ideal writing tool.</p><p>I started this post on the iPad using Code Editor while eating breakfast. Now, after lunch, I’m finishing it on my iMac in my office. I’ll probably edit it later on my Linux laptop while in bed. It’s all the same file, which lives on the server at TWiT, but I have many ways to access it. Perfect. Now to change draft to false and post.</p><div class=typeit><div id=id-1></div></div><section class=footnotes role=doc-endnotes><hr><ol><li id=fn:1 role=doc-endnote><p>For some reason this sometimes results in missing pieces. I believe that’s because hugo in watch mode wants to use the “staging” rules not the “production” rules. This even though I explicitly set hugo_env to production when I run it. Still, some of the plug-ins I use, like mermaid and mapbox don’t always get rendered. Oddly comments do, so it’s a puzzle. The quick fix is to ssh in and do a command-line rebuild and everything reappears. <a href=#fnref:1 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:2 role=doc-endnote><p>Saving doesn’t always mean publishing, however. hugo supports YAML compiler directives in the header of every post. One of the directives, draft, let’s me publish a post or keep working on it. Another directive specifies publish date. If that’s in the future, hugo will wait to publish the post. <a href=#fnref:2 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li><li id=fn:3 role=doc-endnote><p>I’m keeping an eye out for Panic’s new Macintosh editor, Nova. It’s possible it will replace Typora, but I bet it will be more useful for coding than writing. <a href=#fnref:3 class=footnote-backref role=doc-backlink>&#8617;&#xfe0e;</a></p></li></ol></section></div><link rel=stylesheet href=https://unpkg.com/littlefoot/dist/littlefoot.css><script src=https://unpkg.com/littlefoot/dist/littlefoot.js type=application/javascript></script><script type=application/javascript>littlefoot.default()</script><div class=post-footer id=post-footer><div class=post-info><div class=post-info-line><div class=post-info-mod><span>Updated on 2020-06-25</span></div><div class=post-info-license></div></div><div class=post-info-line><div class=post-info-md></div><div class=post-info-share><span></span></div></div></div><div class=post-info-more><section class=post-tags><i class="fas fa-tags fa-fw"></i>&nbsp;<a href=/tags/hugo/>hugo</a>,&nbsp;<a href=/tags/ssh/>ssh</a>,&nbsp;<a href=/tags/typora/>typora</a></section><section><span><a href=javascript:void(0); onclick=window.history.back();>Back</a></span>&nbsp;|&nbsp;<span><a href=/>Home</a></span></section></div><div class=post-nav><a href=/2020/06/sunset/ class=prev rel=prev title=Outblowing><i class="fas fa-angle-left fa-fw"></i>Outblowing</a>
<a href=/2020/06/reparations/ class=next rel=next title="Time to Pay What Is Owed">Time to Pay What Is Owed<i class="fas fa-angle-right fa-fw"></i></a></div></div></article></div></main><footer class=footer><div class=footer-container><div class=footer-line>Powered by <a href=https://gohugo.io/ target=_blank rel="noopener noreffer" title="Hugo 0.80.0">Hugo</a> | Theme - <a href=https://github.com/dillonzq/LoveIt target=_blank rel="noopener noreffer" title="LoveIt 0.2.10"><i class="far fa-kiss-wink-heart fa-fw"></i>LoveIt</a></div><div class=footer-line><i class="far fa-copyright fa-fw"></i><span itemprop=copyrightYear>2020 - 2022</span><span class=author itemprop=copyrightHolder>&nbsp;<a href=https://leo.fm/about target=_blank>Leo Laporte</a></span></div></div></footer></div><div id=fixed-buttons><a href=# id=back-to-top class=fixed-button title="Back to Top"><i class="fas fa-arrow-up fa-fw"></i></a><a href=# id=view-comments class=fixed-button title="View Comments"><i class="fas fa-comment fa-fw"></i></a></div><link rel=stylesheet href=https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.css><script type=text/javascript src=https://cdn.jsdelivr.net/npm/smooth-scroll@16.1.3/dist/smooth-scroll.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/lazysizes@5.2.2/lazysizes.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/clipboard@2.0.6/dist/clipboard.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/typeit@7.0.4/dist/typeit.min.js></script><script type=text/javascript src=https://cdn.jsdelivr.net/npm/cookieconsent@3.1.1/build/cookieconsent.min.js></script><script type=text/javascript>window.config={"code":{"copyTitle":"Copy to clipboard","maxShownLines":10},"comment":{},"cookieconsent":{"content":{"dismiss":"Hide","link":"Learn more","message":"This site uses a cookie to remember your light/dark mode setting."},"enable":true,"palette":{"button":{"background":"#f0f0f0"},"popup":{"background":"#1aa3ff"}},"theme":"edgeless"},"data":{"id-1":"See ma, no friction!"},"typeit":{"cursorChar":"|","cursorSpeed":1000,"data":{"id-1":["id-1"]},"duration":-1,"speed":100}};</script><script type=text/javascript src=/js/theme.min.js></script></body></html>